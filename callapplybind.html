<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>callapplybind</title>
</head>
<body>
    
</body>
<script>
    const obj = {
        name:'why',
    }
    Function.prototype.call=function(obj){
        if (typeof this!='function'){
            return new TypeError('Error')
        }
        obj=obj||window
        obj.fun=this
        const args=[...arguments].slice(1),
        result =obj.fun(...args)
        delete obj.fun
        return result
    }
    Function.prototype.apply=function(obj){
        if (typeof this!='function'){
            return new TypeError('Error')
        }
        obj=obj||window
        obj.fun=this
        const args=[...arguments].slice(1),
        result =obj.fun(...args)
        delete obj.fun
        return result
    }
    Function.prototype.bind=function(obj){
        const _this=this
        const args=[...arguments].slice(1)
        return function F() {
            if(this instanceof F){
                return new _this(...args, ...arguments)
            }
            return _this.apply(obj, args.concat(...arguments))
        }
    }
    //测试代码
    function add(a,b){
        alert(a+b)
    }
    function sub(a,b){
        alert(a-b)
    }
    function sayName(...name){
        console.log(...name)
    }
    add.call(sub,3,1)
    sayName.call(obj,'王海洋','王海洋1','王海洋2','王海洋3','王海洋4','王海洋5')
    sayName.apply(obj,['王海洋','王海洋1','王海洋2','王海洋3','王海洋4','王海洋5'])
    const testBind= sayName.bind(obj,'王海洋','王海洋1','王海洋2','王海洋3','王海洋4','王海洋5')
    testBind('王海洋7')
</script>
</html>